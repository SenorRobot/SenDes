
<launch>

	<include file="launch/remote_viz.launch"/>

	<include file="launch/kinect_laser.launch"/>
	
	<!-- kinect and frame ids -->
	<include file="$(find openni_camera)/launch/openni_node.launch"/>

	<!-- openni manager -->
	<node pkg="nodelet" type="nodelet" name="openni_manager" output="screen" respawn="true" args="manager"/>

	<!-- throttling -->
	<node pkg="nodelet" type="nodelet" name="pointcloud_throttle" args="load pointcloud_to_laserscan/CloudThrottle openni_manager">
		<param name="max_rate" value="7"/>
		<remap from="cloud_in" to="/camera/depth/points"/>
		<remap from="cloud_out" to="cloud_throttled"/>
	</node>

	<!-- fake laser -->
	<node pkg="nodelet" type="nodelet" name="kinect_laser" args="load pointcloud_to_laserscan/CloudToScan openni_manager">
		<param name="output_frame_id" value="/openni_depth_frame"/>
		<remap from="cloud" to="cloud_throttled"/>
		<param name="min_height" value="-.64"/>
		<param name="max_height" value=".5"/>
	</node>

<!-- default transforms -->
	<node pkg="SenDes" type="setup_tf" name="defaulttf" />

	<node pkg="SenDes" type="kinect_scanner" name="kinect_scanner" output="screen">
	  <param name="start_tilt" value="-17.0"/>
	  <param name="tilt_rate" value="0.0"/>
	  <param name="min_tilt" value="-25.0"/>
	  <param name="max_tilt" value="-15.0"/>
	</node>
<!-- mouse-odometry -->
	<node pkg="SenDes" type="mouseodo" name="mouse" output="screen" args="/dev/input/event7">
		<param name="linearCalibration" value="26000"/>
		<param name="angularCalibration" value="0.0"/>
		<param name="radius" value=".2"/>

	</node>

	<node pkg="SenDes" type="base_controller" name="controller" args="" />



</launch>
